CREATE TABLE kriteria (
    id_kriteria INT AUTO_INCREMENT PRIMARY KEY,
    nama_kriteria VARCHAR(255) NOT NULL,
    bobot FLOAT NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE periode (
    id_periode INT AUTO_INCREMENT PRIMARY KEY,
    tahun YEAR NOT NULL,
    id_alternatif INT,
    FOREIGN KEY (id_alternatif) REFERENCES alternatif(id_alternatif) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE alternatif (
    id_alternatif INT AUTO_INCREMENT PRIMARY KEY,
    nama VARCHAR(255),
    kelas INT,
    nilai_raport DECIMAL(5,2),
    extrakurikuler DECIMAL(5,2),
    prestasi DECIMAL(5,2),
    absensi DECIMAL(5,2),
    id_periode INT,
    FOREIGN KEY (id_periode) REFERENCES periode(id_periode) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE perbandingan_alternatif_raport (
    id_perbandingan INT AUTO_INCREMENT PRIMARY KEY,
    alternatif1_id INT,
    alternatif2_id INT,
    nilai DECIMAL(5,2),
    FOREIGN KEY (alternatif1_id) REFERENCES alternatif(id_alternatif) ON DELETE CASCADE,
    FOREIGN KEY (alternatif2_id) REFERENCES alternatif(id_alternatif) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE perbandingan_alternatif_ekstrakurikuler (
    id_perbandingan INT AUTO_INCREMENT PRIMARY KEY,
    alternatif1_id INT,
    alternatif2_id INT,
    nilai FLOAT,
    FOREIGN KEY (alternatif1_id) REFERENCES alternatif(id_alternatif) ON DELETE CASCADE,
    FOREIGN KEY (alternatif2_id) REFERENCES alternatif(id_alternatif) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE perbandingan_alternatif_prestasi (
    id_perbandingan INT AUTO_INCREMENT PRIMARY KEY,
    alternatif1_id INT,
    alternatif2_id INT,
    nilai FLOAT,
    FOREIGN KEY (alternatif1_id) REFERENCES alternatif(id_alternatif) ON DELETE CASCADE,
    FOREIGN KEY (alternatif2_id) REFERENCES alternatif(id_alternatif) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE perbandingan_alternatif_absensi (
    id_perbandingan INT AUTO_INCREMENT PRIMARY KEY,
    alternatif1_id INT,
    alternatif2_id INT,
    nilai FLOAT,
    FOREIGN KEY (alternatif1_id) REFERENCES alternatif(id_alternatif) ON DELETE CASCADE,
    FOREIGN KEY (alternatif2_id) REFERENCES alternatif(id_alternatif) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE hasil (
    id_hasil INT AUTO_INCREMENT PRIMARY KEY,
    id_alternatif INT,
    nilai_akhir FLOAT,
    ranking INT,
    FOREIGN KEY (id_alternatif) REFERENCES alternatif(id_alternatif) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE perbandingan_kriteria (
    id_perbandingan INT AUTO_INCREMENT PRIMARY KEY,
    kriteria1_id INT NOT NULL,
    kriteria2_id INT NOT NULL,
    nilai FLOAT NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
